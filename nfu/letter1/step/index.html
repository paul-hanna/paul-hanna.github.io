<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notes from underground</title>
    <style>

        body {
            display: flex;
            justify-content: center;
            align-items: center; 
            height: 100vh; 
            margin: 0;
            background-color: #ffffff; 
            position: relative;
            overflow: hidden; 

                }

        .image-container {
            position: relative;
            width: 100vw; 
            height: 100vh; 
            cursor: pointer;
        }
        .foia{
            position: absolute;
            height: 100vh;
            z-index:0;
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);        
        }
        .foia.active {
            z-index: 10; 
            display: block;
            margin: auto;
        }

        .foia-link {
            cursor: pointer;
        }

        .buton {
            position: absolute;
            font-family:'Courier New', Courier, monospace;
            background-color: black;
            color: #ffffff;
            letter-spacing: -5px;
            line-height: 2.5;
            padding: 0 20px;
            font-size: 4rem;
            text-align: center;
            display: block;
            top: 50%;
            left: 50%;
            transform: translate(-90%, -50%); 
            z-index: 200;
            cursor: pointer;
            text-decoration: underline;
        }
        .buton-link {
            cursor: pointer;
        }
        .flash-image {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            height: 100vh;
            z-index: 99999; 
            opacity: 1; 
        }

        .morebut {
            position: absolute;
            font-family:'Courier New', Courier, monospace;
            background-color: black;
            color: #ffffff;
            letter-spacing: -5px;
            line-height: 2.5;
            padding: 0 20px;
            font-size: 4rem;
            text-align: center;
            display: block;
            top: 50%;
            left: 50%;
            transform: translate(-20%, -50%); 
            z-index: 99999;
            cursor: pointer;
            text-decoration: underline;
        }
        

    </style>
</head>
<body>
    <div class="image-container">
        <img class="foia active" src="foia/1.jpg" alt="FOIA Image 1">
        <img class="foia" src="foia/2.jpg" alt="FOIA Image 2">
        <img class="foia" src="foia/3.jpg" alt="FOIA Image 3">
        <img class="foia" src="foia/4.jpg" alt="FOIA Image 4">
        <img class="foia" src="foia/5.jpg" alt="FOIA Image 5">
        <img class="foia" src="foia/6.jpg" alt="FOIA Image 6">
        <img class="foia" src="foia/7.jpg" alt="FOIA Image 7">
        <img class="foia" src="foia/8.jpg" alt="FOIA Image 8">
        <img class="foia" src="foia/9.jpg" alt="FOIA Image 9">
        <img class="foia" src="foia/10.jpg" alt="FOIA Image 10">
        <img class="foia" src="foia/11.jpg" alt="FOIA Image 11">
        <img class="foia" src="foia/12.jpg" alt="FOIA Image 12">
        <img class="foia" src="foia/13.jpg" alt="FOIA Image 13">
        <img class="foia" src="foia/14.jpg" alt="FOIA Image 14">
        <img class="foia" src="foia/15.jpg" alt="FOIA Image 15">
        <img class="foia" src="foia/16.jpg" alt="FOIA Image 16">
        <img class="foia" src="foia/17.jpg" alt="FOIA Image 17">
        <img class="foia" src="foia/18.jpg" alt="FOIA Image 18">
        <img class="foia" src="foia/19.jpg" alt="FOIA Image 19">
        <img class="foia" src="foia/20.jpg" alt="FOIA Image 20">
        <img class="foia" src="foia/21.jpg" alt="FOIA Image 21">
        <img class="foia" src="foia/22.jpg" alt="FOIA Image 22">
        <img class="foia" src="foia/23.jpg" alt="FOIA Image 23">
        <a href="letter2/index.html" class="foia-link">
            <img class="foia" src="foia/24.jpg" alt="FOIA Image 24">
        </a>
    </div>

    <audio loop id="song1" src="song1.flac"></audio>
    <audio id="bush1" src="bush1.flac"></audio>
    <script>
  window.addEventListener("DOMContentLoaded", () => {
    document.getElementById("song1").play().catch(error => {
      console.log("Autoplay blocked:", error);
    });
  });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentImageIndex = 0; 
            const images = document.querySelectorAll('.foia'); 
            const lastImage = images[images.length - 1]; 
            const imageContainer = document.querySelector('.image-container'); 


            function revealNextImage() {
             
                images[currentImageIndex].classList.remove('active');
                currentImageIndex++;
            

                if (currentImageIndex >= images.length) {
                    return; 
                }
                if (currentImageIndex === 7) {
                showButton1();
                }
                else if (currentImageIndex === 14) {
                        showButton2();
                }

                images[currentImageIndex].classList.add('active');
            }
            function showButton1(){
                let button = document.createElement("button");
                button.classList.add("buton");
                button.textContent = "INVESTIGATE";
                button.type = "button";
                button.addEventListener("click", function () {
                    button.remove();
                    window.speechSynthesis.cancel();
                    let lynndie = document.createElement("img");
                        lynndie.src = "le1.jpg"; 
                        lynndie.classList.add("flash-image");
                        document.body.appendChild(lynndie);
                    const text = `The Iraqis' lives are better. They got the better end of the deal, They weren't innocent. They're trying to kill us, and you want me to apologize to them? It's like saying sorry to the enemy.`;
                        function speakText(textToSpeak) {
                                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                                utterance.rate = .6; 
                                utterance.pitch = .1;
                                utterance.volume = .8;
                                utterance.lang = "en-US";
                                utterance.onend = function () {
                                    lynndie.remove();
                                };
                                window.speechSynthesis.speak(utterance);
                                audioFiles.forEach((audioInfo) => {
                                    playAudioWithDelay(audioInfo);
                                });
                            }
                            speakText(text);
                
                });
            
                    imageContainer.appendChild(button); 
                }

                function showButton2(){
                    let button = document.createElement("button");
                    button.classList.add("morebut");
                    button.textContent = "GIVE ME MORE";  
                    button.type = "button";
                    button.addEventListener("click", function(){
                        button.remove();
                        document.getElementById("bush1").volume = .6;
                        document.getElementById("bush1").play();
                        flashMultipleImages(["photo1.jpg", "photo2.jpg", "photo3.jpg", "photo4.jpg", "pic1.jpg", "dog.jpg", "photo6.jpg"], 2500); 

                    });

                    imageContainer.appendChild(button);  
                }
                function flashMultipleImages(imageSources, delay) {
                    let index = 0;

                    function showNextImage() {
                        if (index >= imageSources.length) return; 

                        let img = document.createElement("img");
                        img.src = imageSources[index];
                        img.classList.add("flash-image");
                        document.body.appendChild(img);

                        setTimeout(() => {
                            img.remove();
                            index++;
                            showNextImage();
                        }, delay);
                    }

                    showNextImage();
                }

            imageContainer.addEventListener('click', revealNextImage);

            lastImage.addEventListener('click', function(event) {
                if (event.target === lastImage) {
                    window.location.href = "letter2/index.html"; 
                }
            });
        });
    </script>

        
<script>

</script>

</body>
</html>
